import{S as D,i as N,s as C,F as R,e as p,c as g,a as v,d,b as h,f as F,g as y,G as m,H as G,I as J,J as W,q as _,o as w,v as H,W as j,C as O,M as T,N as z,w as U,x as V,y as q,B as A,t as k,k as B,h as M,m as S,p as L,U as Q,P as K,R as X,n as Y,E as Z}from"../chunks/index-1e1c02ed.js";import{B as $,E as tt,a as et,c as E,b as st}from"../chunks/tiptap-extension-floating-menu.esm-008dbd18.js";import"../chunks/index-7848c9b2.js";function it(r){let e,i,o,l;const a=r[7].default,n=R(a,r,r[6],null);return{c(){e=p("div"),i=p("div"),n&&n.c(),this.h()},l(t){e=g(t,"DIV",{});var s=v(e);i=g(s,"DIV",{class:!0,style:!0});var c=v(i);n&&n.l(c),c.forEach(d),s.forEach(d),this.h()},h(){h(i,"class",o=r[1].class),F(i,"visibility","hidden")},m(t,s){y(t,e,s),m(e,i),n&&n.m(i,null),r[8](i),l=!0},p(t,[s]){n&&n.p&&(!l||s&64)&&G(n,a,t,t[6],l?W(a,t[6],s,null):J(t[6]),null),(!l||s&2&&o!==(o=t[1].class))&&h(i,"class",o)},i(t){l||(_(n,t),l=!0)},o(t){w(n,t),l=!1},d(t){t&&d(e),n&&n.d(t),r[8](null)}}}function lt(r,e,i){let{$$slots:o={},$$scope:l}=e,{editor:a}=e,{tippyOptions:n={}}=e,{pluginKey:t="SvelteTiptapBubbleMenu"}=e,{shouldShow:s=null}=e,c;if(!a)throw new Error("Missing editor instance.");H(()=>{const u=$({pluginKey:t,editor:a,element:c,tippyOptions:n,shouldShow:s});a.registerPlugin(u)}),j(()=>{a.unregisterPlugin(t)});function f(u){z[u?"unshift":"push"](()=>{c=u,i(0,c)})}return r.$$set=u=>{i(1,e=O(O({},e),T(u))),"editor"in u&&i(2,a=u.editor),"tippyOptions"in u&&i(3,n=u.tippyOptions),"pluginKey"in u&&i(4,t=u.pluginKey),"shouldShow"in u&&i(5,s=u.shouldShow),"$$scope"in u&&i(6,l=u.$$scope)},e=T(e),[c,e,a,n,t,s,l,o,f]}class nt extends D{constructor(e){super();N(this,e,lt,it,C,{editor:2,tippyOptions:3,pluginKey:4,shouldShow:5})}}function P(r){let e,i;return e=new nt({props:{editor:r[0],$$slots:{default:[ot]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,l){q(e,o,l),i=!0},p(o,l){const a={};l&1&&(a.editor=o[0]),l&36&&(a.$$scope={dirty:l,ctx:o}),e.$set(a)},i(o){i||(_(e.$$.fragment,o),i=!0)},o(o){w(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ot(r){let e,i,o,l,a,n,t,s,c,f;return{c(){e=p("div"),i=p("button"),o=k("bold"),a=B(),n=p("button"),t=k("italic"),this.h()},l(u){e=g(u,"DIV",{"data-test-id":!0,class:!0});var b=v(e);i=g(b,"BUTTON",{class:!0});var x=v(i);o=M(x,"bold"),x.forEach(d),a=S(b),n=g(b,"BUTTON",{class:!0});var I=v(n);t=M(I,"italic"),I.forEach(d),b.forEach(d),this.h()},h(){h(i,"class",l=E("px-2 bg-black text-white/90 hover:text-white",{"!text-white":r[2]("bold")})),h(n,"class",s=E("px-2 bg-black text-white/90 hover:text-white",{"!text-white":r[2]("italic")})),h(e,"data-test-id","bubble-menu"),h(e,"class","flex")},m(u,b){y(u,e,b),m(e,i),m(i,o),m(e,a),m(e,n),m(n,t),c||(f=[K(i,"click",r[3]),K(n,"click",r[4])],c=!0)},p(u,b){b&4&&l!==(l=E("px-2 bg-black text-white/90 hover:text-white",{"!text-white":u[2]("bold")}))&&h(i,"class",l),b&4&&s!==(s=E("px-2 bg-black text-white/90 hover:text-white",{"!text-white":u[2]("italic")}))&&h(n,"class",s)},d(u){u&&d(e),c=!1,X(f)}}}function at(r){let e,i,o,l,a,n,t=r[1]&&P(r);return a=new tt({props:{editor:r[0]}}),{c(){e=p("h1"),i=k("Editor with Bubble Menu"),o=B(),t&&t.c(),l=B(),U(a.$$.fragment),this.h()},l(s){e=g(s,"H1",{class:!0});var c=v(e);i=M(c,"Editor with Bubble Menu"),c.forEach(d),o=S(s),t&&t.l(s),l=S(s),V(a.$$.fragment,s),this.h()},h(){h(e,"class","mb-2")},m(s,c){y(s,e,c),m(e,i),y(s,o,c),t&&t.m(s,c),y(s,l,c),q(a,s,c),n=!0},p(s,[c]){s[1]?t?(t.p(s,c),c&2&&_(t,1)):(t=P(s),t.c(),_(t,1),t.m(l.parentNode,l)):t&&(Y(),w(t,1,1,()=>{t=null}),L());const f={};c&1&&(f.editor=s[0]),a.$set(f)},i(s){n||(_(t),_(a.$$.fragment,s),n=!0)},o(s){w(t),w(a.$$.fragment,s),n=!1},d(s){s&&d(e),s&&d(o),t&&t.d(s),s&&d(l),A(a,s)}}}function ut(r,e,i){let o,l,a=Z,n=()=>(a(),a=Q(t,f=>i(0,l=f)),t);r.$$.on_destroy.push(()=>a());let t;H(()=>{n(i(1,t=et({extensions:[st],content:`
        <p>Hey, try to select some text here. There will popup a menu for selecting some inline styles.
           Remember: you have full control about content and styling of this menu..</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-md p-3 outline-none "}}})))});const s=()=>{l.chain().focus().toggleBold().run()},c=()=>{l.chain().focus().toggleItalic().run()};return r.$$.update=()=>{r.$$.dirty&1&&i(2,o=(f,u={})=>l.isActive(f,u))},[l,t,o,s,c]}class dt extends D{constructor(e){super();N(this,e,ut,at,C,{})}}export{dt as default};
