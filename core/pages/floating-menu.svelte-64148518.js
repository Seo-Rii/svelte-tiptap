import{S as U,i as C,s as V,F as Y,e as m,c as p,a as v,d as f,b as g,f as Z,g as E,G as h,H as j,I as z,J as L,q as y,o as T,v as A,a3 as R,a2 as W,C as D,N as H,O as $,w as G,x as J,y as Q,B as X,k as S,t as O,X as ee,m as M,h as F,p as te,U as w,Q as I,T as le,n as se,K as oe,Y as ie,Z as ae}from"../chunks/vendor-1b8466e5.js";import{E as ne,c as re}from"../chunks/EditorContent-81022e76.js";function ue(c){let e,t,n,a;const u=c[7].default,o=Y(u,c,c[6],null);return{c(){e=m("div"),t=m("div"),o&&o.c(),this.h()},l(i){e=p(i,"DIV",{});var s=v(e);t=p(s,"DIV",{class:!0,style:!0});var l=v(t);o&&o.l(l),l.forEach(f),s.forEach(f),this.h()},h(){g(t,"class",n=c[1].class),Z(t,"visibility","hidden")},m(i,s){E(i,e,s),h(e,t),o&&o.m(t,null),c[8](t),a=!0},p(i,[s]){o&&o.p&&(!a||s&64)&&j(o,u,i,i[6],a?L(u,i[6],s,null):z(i[6]),null),(!a||s&2&&n!==(n=i[1].class))&&g(t,"class",n)},i(i){a||(y(o,i),a=!0)},o(i){T(o,i),a=!1},d(i){i&&f(e),o&&o.d(i),c[8](null)}}}function ce(c,e,t){let{$$slots:n={},$$scope:a}=e,{editor:u}=e,{tippyOptions:o={}}=e,{pluginKey:i="SvelteTiptapFloatingMenu"}=e,{shouldShow:s=null}=e,l;if(!u)throw new Error("Missing editor instance.");A(()=>{u.registerPlugin(R({pluginKey:i,editor:u,element:l,tippyOptions:o,shouldShow:s}))}),W(()=>{u.unregisterPlugin(i)});function d(r){$[r?"unshift":"push"](()=>{l=r,t(0,l)})}return c.$$set=r=>{t(1,e=D(D({},e),H(r))),"editor"in r&&t(2,u=r.editor),"tippyOptions"in r&&t(3,o=r.tippyOptions),"pluginKey"in r&&t(4,i=r.pluginKey),"shouldShow"in r&&t(5,s=r.shouldShow),"$$scope"in r&&t(6,a=r.$$scope)},e=H(e),[l,e,u,o,i,s,a,n,d]}class de extends U{constructor(e){super();C(this,e,ce,ue,V,{editor:2,tippyOptions:3,pluginKey:4,shouldShow:5})}}function P(c){let e,t;return e=new de({props:{editor:c[0],$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,a){Q(e,n,a),t=!0},p(n,a){const u={};a&1&&(u.editor=n[0]),a&68&&(u.$$scope={dirty:a,ctx:n}),e.$set(u)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function fe(c){let e,t,n,a,u,o,i,s,l,d,r,k,B,K;return{c(){e=m("div"),t=m("button"),n=O("h1"),u=S(),o=m("button"),i=O("bold"),l=S(),d=m("button"),r=O("italic"),this.h()},l(_){e=p(_,"DIV",{"data-test-id":!0});var b=v(e);t=p(b,"BUTTON",{class:!0});var x=v(t);n=F(x,"h1"),x.forEach(f),u=M(b),o=p(b,"BUTTON",{class:!0});var N=v(o);i=F(N,"bold"),N.forEach(f),l=M(b),d=p(b,"BUTTON",{class:!0});var q=v(d);r=F(q,"italic"),q.forEach(f),b.forEach(f),this.h()},h(){g(t,"class",a=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("heading",{level:1})})),g(o,"class",s=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("bold")})),g(d,"class",k=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("italic")})),g(e,"data-test-id","floating-menu")},m(_,b){E(_,e,b),h(e,t),h(t,n),h(e,u),h(e,o),h(o,i),h(e,l),h(e,d),h(d,r),B||(K=[I(t,"click",c[3](1)),I(o,"click",c[4]),I(d,"click",c[5])],B=!0)},p(_,b){b&4&&a!==(a=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("heading",{level:1})}))&&g(t,"class",a),b&4&&s!==(s=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("bold")}))&&g(o,"class",s),b&4&&k!==(k=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("italic")}))&&g(d,"class",k)},d(_){_&&f(e),B=!1,le(K)}}}function be(c){let e,t,n,a,u,o,i,s=c[1]&&P(c);return o=new ne({props:{editor:c[0]}}),{c(){e=S(),t=m("h1"),n=O("Editor with Floating Menu"),a=S(),s&&s.c(),u=S(),G(o.$$.fragment),this.h()},l(l){ee('[data-svelte="svelte-1drq7vc"]',document.head).forEach(f),e=M(l),t=p(l,"H1",{class:!0});var r=v(t);n=F(r,"Editor with Floating Menu"),r.forEach(f),a=M(l),s&&s.l(l),u=M(l),J(o.$$.fragment,l),this.h()},h(){document.title="Tiptap Svelte",g(t,"class","mb-2")},m(l,d){E(l,e,d),E(l,t,d),h(t,n),E(l,a,d),s&&s.m(l,d),E(l,u,d),Q(o,l,d),i=!0},p(l,[d]){l[1]?s?(s.p(l,d),d&2&&y(s,1)):(s=P(l),s.c(),y(s,1),s.m(u.parentNode,u)):s&&(se(),T(s,1,1,()=>{s=null}),te());const r={};d&1&&(r.editor=l[0]),o.$set(r)},i(l){i||(y(s),y(o.$$.fragment,l),i=!0)},o(l){T(s),T(o.$$.fragment,l),i=!1},d(l){l&&f(e),l&&f(t),l&&f(a),s&&s.d(l),l&&f(u),X(o,l)}}}function he(c,e,t){let n,a,u=oe,o=()=>(u(),u=ie(i,r=>t(0,a=r)),i);c.$$.on_destroy.push(()=>u());let i;A(()=>{o(t(1,i=re({extensions:[ae],content:`
        <p>This is an example of a Medium-like editor. Enter a new line and some buttons will appear.</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-md p-3 outline-none "}}})))});const s=r=>()=>{a.chain().focus().toggleHeading({level:r}).run()},l=()=>{a.chain().focus().toggleBold().run()},d=()=>{a.chain().focus().toggleItalic().run()};return c.$$.update=()=>{c.$$.dirty&1&&t(2,n=(r,k={})=>a.isActive(r,k))},[a,i,n,s,l,d]}class me extends U{constructor(e){super();C(this,e,he,be,V,{})}}export{me as default};
