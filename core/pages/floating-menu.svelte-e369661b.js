import{S as C,i as D,s as H,F as X,e as m,c as p,a as v,d as f,b as h,f as Y,g as E,G as g,H as Z,I as z,J as L,q as w,o as T,v as P,a3 as R,a2 as W,C as U,N as V,O as $,w as j,x as A,y as G,B as J,k as S,t as O,X as ee,m as M,h as F,p as te,U as y,Q as I,T as le,n as se,K as oe,Y as ie,Z as ne}from"../chunks/vendor-eb0bebae.js";import{E as ae,c as re}from"../chunks/EditorContent-336534df.js";function ue(c){let e,t,a,n;const u=c[7].default,o=X(u,c,c[6],null);return{c(){e=m("div"),t=m("div"),o&&o.c(),this.h()},l(i){e=p(i,"DIV",{});var s=v(e);t=p(s,"DIV",{class:!0,style:!0});var l=v(t);o&&o.l(l),l.forEach(f),s.forEach(f),this.h()},h(){h(t,"class",a=c[1].class),Y(t,"visibility","hidden")},m(i,s){E(i,e,s),g(e,t),o&&o.m(t,null),c[8](t),n=!0},p(i,[s]){o&&o.p&&(!n||s&64)&&Z(o,u,i,i[6],n?L(u,i[6],s,null):z(i[6]),null),(!n||s&2&&a!==(a=i[1].class))&&h(t,"class",a)},i(i){n||(w(o,i),n=!0)},o(i){T(o,i),n=!1},d(i){i&&f(e),o&&o.d(i),c[8](null)}}}function ce(c,e,t){let{$$slots:a={},$$scope:n}=e,{editor:u}=e,{tippyOptions:o={}}=e,{pluginKey:i="SvelteTiptapFloatingMenu"}=e,{shouldShow:s=null}=e,l;if(!u)throw new Error("Missing editor instance.");P(()=>{u.registerPlugin(R({pluginKey:i,editor:u,element:l,tippyOptions:o,shouldShow:s}))}),W(()=>{u.unregisterPlugin(i)});function d(r){$[r?"unshift":"push"](()=>{l=r,t(0,l)})}return c.$$set=r=>{t(1,e=U(U({},e),V(r))),"editor"in r&&t(2,u=r.editor),"tippyOptions"in r&&t(3,o=r.tippyOptions),"pluginKey"in r&&t(4,i=r.pluginKey),"shouldShow"in r&&t(5,s=r.shouldShow),"$$scope"in r&&t(6,n=r.$$scope)},e=V(e),[l,e,u,o,i,s,n,a,d]}class de extends C{constructor(e){super();D(this,e,ce,ue,H,{editor:2,tippyOptions:3,pluginKey:4,shouldShow:5})}}function Q(c){let e,t;return e=new de({props:{editor:c[0],$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){j(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,n){G(e,a,n),t=!0},p(a,n){const u={};n&1&&(u.editor=a[0]),n&68&&(u.$$scope={dirty:n,ctx:a}),e.$set(u)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){J(e,a)}}}function fe(c){let e,t,a,n,u,o,i,s,l,d,r,k,B,K;return{c(){e=m("div"),t=m("button"),a=O("h1"),u=S(),o=m("button"),i=O("bold"),l=S(),d=m("button"),r=O("italic"),this.h()},l(_){e=p(_,"DIV",{"data-test-id":!0});var b=v(e);t=p(b,"BUTTON",{class:!0});var x=v(t);a=F(x,"h1"),x.forEach(f),u=M(b),o=p(b,"BUTTON",{class:!0});var N=v(o);i=F(N,"bold"),N.forEach(f),l=M(b),d=p(b,"BUTTON",{class:!0});var q=v(d);r=F(q,"italic"),q.forEach(f),b.forEach(f),this.h()},h(){h(t,"class",n=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("heading",{level:1})})),h(o,"class",s=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("bold")})),h(d,"class",k=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":c[2]("italic")})),h(e,"data-test-id","floating-menu")},m(_,b){E(_,e,b),g(e,t),g(t,a),g(e,u),g(e,o),g(o,i),g(e,l),g(e,d),g(d,r),B||(K=[I(t,"click",c[3](1)),I(o,"click",c[4]),I(d,"click",c[5])],B=!0)},p(_,b){b&4&&n!==(n=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("heading",{level:1})}))&&h(t,"class",n),b&4&&s!==(s=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("bold")}))&&h(o,"class",s),b&4&&k!==(k=y("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("italic")}))&&h(d,"class",k)},d(_){_&&f(e),B=!1,le(K)}}}function be(c){let e,t,a,n,u,o,i,s=c[1]&&Q(c);return o=new ae({props:{editor:c[0]}}),{c(){e=S(),t=m("h1"),a=O("Editor with Floating Menu"),n=S(),s&&s.c(),u=S(),j(o.$$.fragment),this.h()},l(l){ee('[data-svelte="svelte-1drq7vc"]',document.head).forEach(f),e=M(l),t=p(l,"H1",{class:!0});var r=v(t);a=F(r,"Editor with Floating Menu"),r.forEach(f),n=M(l),s&&s.l(l),u=M(l),A(o.$$.fragment,l),this.h()},h(){document.title="Tiptap Svelte",h(t,"class","mb-2")},m(l,d){E(l,e,d),E(l,t,d),g(t,a),E(l,n,d),s&&s.m(l,d),E(l,u,d),G(o,l,d),i=!0},p(l,[d]){l[1]?s?(s.p(l,d),d&2&&w(s,1)):(s=Q(l),s.c(),w(s,1),s.m(u.parentNode,u)):s&&(se(),T(s,1,1,()=>{s=null}),te());const r={};d&1&&(r.editor=l[0]),o.$set(r)},i(l){i||(w(s),w(o.$$.fragment,l),i=!0)},o(l){T(s),T(o.$$.fragment,l),i=!1},d(l){l&&f(e),l&&f(t),l&&f(n),s&&s.d(l),l&&f(u),J(o,l)}}}function he(c,e,t){let a,n,u=oe,o=()=>(u(),u=ie(i,r=>t(0,n=r)),i);c.$$.on_destroy.push(()=>u());let i;P(()=>{o(t(1,i=re({extensions:[ne],content:`
        <p>This is an example of a Medium-like editor. Enter a new line and some buttons will appear.</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-md p-3 outline-none "}}})))});const s=r=>()=>{n.chain().focus().toggleHeading({level:r}).run()},l=()=>{n.chain().focus().toggleBold().run()},d=()=>{n.chain().focus().toggleItalic().run()};return c.$$.update=()=>{c.$$.dirty&1&&t(2,a=(r,k={})=>n.isActive(r,k))},[n,i,a,s,l,d]}class me extends C{constructor(e){super();D(this,e,he,be,H,{})}}export{me as default};
