import{S as D,i as M,s as L,l as le,g as k,q as H,o as B,d,L as ne,M as me,v as re,E as _e,C as O,N as ve,O as oe,F as ae,e as v,c as g,a as w,P as U,Q as x,R as K,H as ie,I as ue,J as ce,z as de,T as j,U as E,w as z,x as F,y as G,B as J,t as y,k as A,h as S,m as $,b as h,G as p,j as ge,V as be,W as fe,X as we,K as ke,Y as Ee,Z as Te}from"../chunks/vendor-1b8466e5.js";import{T as Ne,S as pe,E as ye,c as Se}from"../chunks/EditorContent-81022e76.js";const Ae=n=>{n.setAttribute("data-node-view-content",""),n.style.whiteSpace="pre-wrap"},$e=n=>{n.setAttribute("data-drag-handle","")},Ce=()=>{};function Pe(n){let e,l,o,s;const i=n[6].default,r=ae(i,n,n[5],null);let u=[{"data-node-view-wrapper":""},n[4]],a={};for(let t=0;t<u.length;t+=1)a=O(a,u[t]);return{c(){e=v("div"),r&&r.c(),this.h()},l(t){e=g(t,"DIV",{"data-node-view-wrapper":!0});var c=w(e);r&&r.l(c),c.forEach(d),this.h()},h(){U(e,a)},m(t,c){k(t,e,c),r&&r.m(e,null),n[8](e),l=!0,o||(s=[x(e,"dragstart",n[2]),K(n[0].call(null,e))],o=!0)},p(t,c){r&&r.p&&(!l||c&32)&&ie(r,i,t,t[5],l?ce(i,t[5],c,null):ue(t[5]),null),U(e,a=de(u,[{"data-node-view-wrapper":""},c&16&&t[4]]))},i(t){l||(H(r,t),l=!0)},o(t){B(r,t),l=!1},d(t){t&&d(e),r&&r.d(t),n[8](null),o=!1,j(s)}}}function xe(n){let e,l,o,s;const i=n[6].default,r=ae(i,n,n[5],null);let u=[{"data-node-view-wrapper":""},n[4]],a={};for(let t=0;t<u.length;t+=1)a=O(a,u[t]);return{c(){e=v("span"),r&&r.c(),this.h()},l(t){e=g(t,"SPAN",{"data-node-view-wrapper":!0});var c=w(e);r&&r.l(c),c.forEach(d),this.h()},h(){U(e,a)},m(t,c){k(t,e,c),r&&r.m(e,null),n[7](e),l=!0,o||(s=[x(e,"dragstart",n[2]),K(n[0].call(null,e))],o=!0)},p(t,c){r&&r.p&&(!l||c&32)&&ie(r,i,t,t[5],l?ce(i,t[5],c,null):ue(t[5]),null),U(e,a=de(u,[{"data-node-view-wrapper":""},c&16&&t[4]]))},i(t){l||(H(r,t),l=!0)},o(t){B(r,t),l=!1},d(t){t&&d(e),r&&r.d(t),n[7](null),o=!1,j(s)}}}function He(n){let e,l,o,s;const i=[xe,Pe],r=[];function u(a,t){return a[3]?0:1}return e=u(n),l=r[e]=i[e](n),{c(){l.c(),o=le()},l(a){l.l(a),o=le()},m(a,t){r[e].m(a,t),k(a,o,t),s=!0},p(a,[t]){l.p(a,t)},i(a){s||(H(l),s=!0)},o(a){B(l),s=!1},d(a){r[e].d(a),a&&d(o)}}}function Be(n,e,l){const o=["action"];let s=ne(e,o),{$$slots:i={},$$scope:r}=e;const{onDragStart:u,isInline:a}=me(Ne);let t,{action:c=Ce}=e;re(async()=>{await _e(),l(1,t.style.whiteSpace="normal",t)});function _(f){oe[f?"unshift":"push"](()=>{t=f,l(1,t)})}function b(f){oe[f?"unshift":"push"](()=>{t=f,l(1,t)})}return n.$$set=f=>{e=O(O({},e),ve(f)),l(4,s=ne(e,o)),"action"in f&&l(0,c=f.action),"$$scope"in f&&l(5,r=f.$$scope)},[c,t,u,a,s,r,i,_,b]}class he extends D{constructor(e){super();M(this,e,Be,He,L,{action:0})}}function Ie(n){let e,l,o,s,i,r,u=n[0].attrs.count+"",a,t,c,_;return{c(){e=v("span"),l=y("Svelte Component"),o=A(),s=v("div"),i=v("button"),r=y("This button has been clicked "),a=y(u),t=y(" times."),this.h()},l(b){e=g(b,"SPAN",{class:!0});var f=w(e);l=S(f,"Svelte Component"),f.forEach(d),o=$(b),s=g(b,"DIV",{class:!0});var T=w(s);i=g(T,"BUTTON",{id:!0,class:!0,type:!0});var C=w(i);r=S(C,"This button has been clicked "),a=S(C,u),t=S(C," times."),C.forEach(d),T.forEach(d),this.h()},h(){h(e,"class","bg-black py-1 px-3 text-white rounded-b-md uppercase text-[0.6rem] font-bold w-max"),h(i,"id","counter-component"),h(i,"class","bg-gray-200 border-black border rounded px-1"),h(i,"type","button"),h(s,"class","mt-4")},m(b,f){k(b,e,f),p(e,l),k(b,o,f),k(b,s,f),p(s,i),p(i,r),p(i,a),p(i,t),c||(_=x(i,"click",n[2]),c=!0)},p(b,f){f&1&&u!==(u=b[0].attrs.count+"")&&ge(a,u)},d(b){b&&d(e),b&&d(o),b&&d(s),c=!1,_()}}}function Ve(n){let e,l;return e=new he({props:{id:"svelte-component",class:E("bg-yellow-200/90 border-black border-2 px-4 pb-4 rounded-md flex flex-col my-4",{"border-green-500":n[1]}),action:$e,$$slots:{default:[Ie]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(o){F(e.$$.fragment,o)},m(o,s){G(e,o,s),l=!0},p(o,[s]){const i={};s&2&&(i.class=E("bg-yellow-200/90 border-black border-2 px-4 pb-4 rounded-md flex flex-col my-4",{"border-green-500":o[1]})),s&17&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){l||(H(e.$$.fragment,o),l=!0)},o(o){B(e.$$.fragment,o),l=!1},d(o){J(e,o)}}}function Oe(n,e,l){let{node:o}=e,{updateAttributes:s}=e,{selected:i=!1}=e;const r=()=>{s({count:o.attrs.count+1})};return n.$$set=u=>{"node"in u&&l(0,o=u.node),"updateAttributes"in u&&l(3,s=u.updateAttributes),"selected"in u&&l(1,i=u.selected)},[o,i,r,s]}class Ue extends D{constructor(e){super();M(this,e,Oe,Ve,L,{node:0,updateAttributes:3,selected:1})}}function De(n){let e,l,o,s,i,r;return{c(){e=v("span"),l=y("Svelte Editable Component"),o=A(),s=v("p"),this.h()},l(u){e=g(u,"SPAN",{class:!0});var a=w(e);l=S(a,"Svelte Editable Component"),a.forEach(d),o=$(u),s=g(u,"P",{id:!0,class:!0}),w(s).forEach(d),this.h()},h(){h(e,"class","bg-black py-1 px-3 text-white rounded-b-md uppercase text-[0.6rem] font-bold w-max"),h(s,"id","editable-component"),h(s,"class","mt-4 border-dashed border-gray-900/20 border-2 p-2 rounded-md")},m(u,a){k(u,e,a),p(e,l),k(u,o,a),k(u,s,a),i||(r=K(Ae.call(null,s)),i=!0)},d(u){u&&d(e),u&&d(o),u&&d(s),i=!1,r()}}}function Me(n){let e,l;return e=new he({props:{id:"svelte-component",class:"bg-yellow-200/90 border-black border-2 px-4 pb-4 my-4 rounded-md flex flex-col",$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(o){F(e.$$.fragment,o)},m(o,s){G(e,o,s),l=!0},p(o,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){l||(H(e.$$.fragment,o),l=!0)},o(o){B(e.$$.fragment,o),l=!1},d(o){J(e,o)}}}class Le extends D{constructor(e){super();M(this,e,null,Me,L,{})}}const Re=be.create({name:"svelteCounterComponent",group:"block",atom:!0,draggable:!0,inline:!1,addAttributes(){return{count:{default:0}}},parseHTML(){return[{tag:"svelte-counter-component"}]},renderHTML({HTMLAttributes:n}){return["svelte-counter-component",fe(n)]},addNodeView(){return pe(Ue)}}),qe=be.create({name:"svelteEditableComponent",group:"block",content:"inline*",parseHTML(){return[{tag:"svelte-editable-component"}]},renderHTML({HTMLAttributes:n}){return["svelte-editable-component",fe(n),0]},addNodeView(){return pe(Le)}});function se(n){let e,l,o,s,i,r,u,a,t,c,_,b,f,T,C,I,R,P,q,V,W,Q;return{c(){e=v("div"),l=v("button"),o=y("H1"),i=A(),r=v("button"),u=y("H2"),t=A(),c=v("button"),_=y("B"),f=A(),T=v("button"),C=y("I"),R=A(),P=v("button"),q=y("P"),this.h()},l(N){e=g(N,"DIV",{class:!0});var m=w(e);l=g(m,"BUTTON",{class:!0});var X=w(l);o=S(X,"H1"),X.forEach(d),i=$(m),r=g(m,"BUTTON",{class:!0});var Y=w(r);u=S(Y,"H2"),Y.forEach(d),t=$(m),c=g(m,"BUTTON",{class:!0});var Z=w(c);_=S(Z,"B"),Z.forEach(d),f=$(m),T=g(m,"BUTTON",{class:!0});var ee=w(T);C=S(ee,"I"),ee.forEach(d),R=$(m),P=g(m,"BUTTON",{class:!0});var te=w(P);q=S(te,"P"),te.forEach(d),m.forEach(d),this.h()},h(){h(l,"class",s=E("hover:bg-black hover:text-white w-7 h-7 rounded",{"bg-black text-white":n[2]("heading",{level:1})})),h(r,"class",a=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":n[2]("heading",{level:2})})),h(c,"class",b=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":n[2]("bold")})),h(T,"class",I=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":n[2]("italic")})),h(P,"class",V=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":n[2]("paragraph")})),h(e,"class","border-black border-2 border-b-0 rounded-t-md p-2 flex")},m(N,m){k(N,e,m),p(e,l),p(l,o),p(e,i),p(e,r),p(r,u),p(e,t),p(e,c),p(c,_),p(e,f),p(e,T),p(T,C),p(e,R),p(e,P),p(P,q),W||(Q=[x(l,"click",n[3](1)),x(r,"click",n[3](2)),x(c,"click",n[4]),x(T,"click",n[5]),x(P,"click",n[6])],W=!0)},p(N,m){m&4&&s!==(s=E("hover:bg-black hover:text-white w-7 h-7 rounded",{"bg-black text-white":N[2]("heading",{level:1})}))&&h(l,"class",s),m&4&&a!==(a=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":N[2]("heading",{level:2})}))&&h(r,"class",a),m&4&&b!==(b=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":N[2]("bold")}))&&h(c,"class",b),m&4&&I!==(I=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":N[2]("italic")}))&&h(T,"class",I),m&4&&V!==(V=E("hover:bg-black hover:text-white w-7 h-7 rounded ml-1",{"bg-black text-white":N[2]("paragraph")}))&&h(P,"class",V)},d(N){N&&d(e),W=!1,j(Q)}}}function We(n){let e,l,o,s,i,r,u,a=n[1]&&se(n);return r=new ye({props:{editor:n[0]}}),{c(){e=A(),l=v("h1"),o=y("Editor with Nodeview Renderer"),s=A(),a&&a.c(),i=A(),z(r.$$.fragment),this.h()},l(t){we('[data-svelte="svelte-1drq7vc"]',document.head).forEach(d),e=$(t),l=g(t,"H1",{class:!0});var _=w(l);o=S(_,"Editor with Nodeview Renderer"),_.forEach(d),s=$(t),a&&a.l(t),i=$(t),F(r.$$.fragment,t),this.h()},h(){document.title="Tiptap Svelte",h(l,"class","mb-2")},m(t,c){k(t,e,c),k(t,l,c),p(l,o),k(t,s,c),a&&a.m(t,c),k(t,i,c),G(r,t,c),u=!0},p(t,[c]){t[1]?a?a.p(t,c):(a=se(t),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null);const _={};c&1&&(_.editor=t[0]),r.$set(_)},i(t){u||(H(r.$$.fragment,t),u=!0)},o(t){B(r.$$.fragment,t),u=!1},d(t){t&&d(e),t&&d(l),t&&d(s),a&&a.d(t),t&&d(i),J(r,t)}}}function Ke(n,e,l){let o,s,i=ke,r=()=>(i(),i=Ee(u,b=>l(0,s=b)),u);n.$$.on_destroy.push(()=>i());let u;re(()=>{r(l(1,u=Se({extensions:[Te,Re,qe],content:`
        <p>This is still the text editor you're used to, but enriched with node views.</p>
        <svelte-counter-component count="0"></svelte-counter-component>
        <p>This is an editable component</p>
        <svelte-editable-component>This is editable</svelte-editable-component>
        <p>Did you see that? That's a Svelte component. We are really living in the future.</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-b-md p-3 outline-none "}}})))});const a=b=>()=>{s.chain().focus().toggleHeading({level:b}).run()},t=()=>{s.chain().focus().toggleBold().run()},c=()=>{s.chain().focus().toggleItalic().run()},_=()=>{s.chain().focus().setParagraph().run()};return n.$$.update=()=>{n.$$.dirty&1&&l(2,o=(b,f={})=>s.isActive(b,f))},[s,u,o,a,t,c,_]}class Fe extends D{constructor(e){super();M(this,e,Ke,We,L,{})}}export{Fe as default};
