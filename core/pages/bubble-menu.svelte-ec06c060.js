import{S as N,i as P,s as C,F,e as g,c as p,a as v,d,b,f as G,g as y,G as m,H as J,I as Q,J as R,q as _,o as w,v as H,a4 as Y,a2 as Z,C as T,N as I,O as j,w as U,x as V,y as q,B as A,t as E,k as B,h as S,m as x,p as z,Y as L,U as k,Q as K,T as W,n as X,K as $,Z as tt}from"../chunks/vendor-bd1cd56f.js";import{E as et,c as st}from"../chunks/EditorContent-675ab527.js";function it(r){let e,i,o,l;const a=r[7].default,n=F(a,r,r[6],null);return{c(){e=g("div"),i=g("div"),n&&n.c(),this.h()},l(t){e=p(t,"DIV",{});var s=v(e);i=p(s,"DIV",{class:!0,style:!0});var c=v(i);n&&n.l(c),c.forEach(d),s.forEach(d),this.h()},h(){b(i,"class",o=r[1].class),G(i,"visibility","hidden")},m(t,s){y(t,e,s),m(e,i),n&&n.m(i,null),r[8](i),l=!0},p(t,[s]){n&&n.p&&(!l||s&64)&&J(n,a,t,t[6],l?R(a,t[6],s,null):Q(t[6]),null),(!l||s&2&&o!==(o=t[1].class))&&b(i,"class",o)},i(t){l||(_(n,t),l=!0)},o(t){w(n,t),l=!1},d(t){t&&d(e),n&&n.d(t),r[8](null)}}}function lt(r,e,i){let{$$slots:o={},$$scope:l}=e,{editor:a}=e,{tippyOptions:n={}}=e,{pluginKey:t="SvelteTiptapBubbleMenu"}=e,{shouldShow:s=null}=e,c;if(!a)throw new Error("Missing editor instance.");H(()=>{const u=Y({pluginKey:t,editor:a,element:c,tippyOptions:n,shouldShow:s});a.registerPlugin(u)}),Z(()=>{a.unregisterPlugin(t)});function f(u){j[u?"unshift":"push"](()=>{c=u,i(0,c)})}return r.$$set=u=>{i(1,e=T(T({},e),I(u))),"editor"in u&&i(2,a=u.editor),"tippyOptions"in u&&i(3,n=u.tippyOptions),"pluginKey"in u&&i(4,t=u.pluginKey),"shouldShow"in u&&i(5,s=u.shouldShow),"$$scope"in u&&i(6,l=u.$$scope)},e=I(e),[c,e,a,n,t,s,l,o,f]}class nt extends N{constructor(e){super();P(this,e,lt,it,C,{editor:2,tippyOptions:3,pluginKey:4,shouldShow:5})}}function D(r){let e,i;return e=new nt({props:{editor:r[0],$$slots:{default:[ot]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,l){q(e,o,l),i=!0},p(o,l){const a={};l&1&&(a.editor=o[0]),l&36&&(a.$$scope={dirty:l,ctx:o}),e.$set(a)},i(o){i||(_(e.$$.fragment,o),i=!0)},o(o){w(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ot(r){let e,i,o,l,a,n,t,s,c,f;return{c(){e=g("div"),i=g("button"),o=E("bold"),a=B(),n=g("button"),t=E("italic"),this.h()},l(u){e=p(u,"DIV",{"data-test-id":!0,class:!0});var h=v(e);i=p(h,"BUTTON",{class:!0});var M=v(i);o=S(M,"bold"),M.forEach(d),a=x(h),n=p(h,"BUTTON",{class:!0});var O=v(n);t=S(O,"italic"),O.forEach(d),h.forEach(d),this.h()},h(){b(i,"class",l=k("px-2 bg-black text-white/90 hover:text-white",{"!text-white":r[2]("bold")})),b(n,"class",s=k("px-2 bg-black text-white/90 hover:text-white",{"!text-white":r[2]("italic")})),b(e,"data-test-id","bubble-menu"),b(e,"class","flex")},m(u,h){y(u,e,h),m(e,i),m(i,o),m(e,a),m(e,n),m(n,t),c||(f=[K(i,"click",r[3]),K(n,"click",r[4])],c=!0)},p(u,h){h&4&&l!==(l=k("px-2 bg-black text-white/90 hover:text-white",{"!text-white":u[2]("bold")}))&&b(i,"class",l),h&4&&s!==(s=k("px-2 bg-black text-white/90 hover:text-white",{"!text-white":u[2]("italic")}))&&b(n,"class",s)},d(u){u&&d(e),c=!1,W(f)}}}function at(r){let e,i,o,l,a,n,t=r[1]&&D(r);return a=new et({props:{editor:r[0]}}),{c(){e=g("h1"),i=E("Editor with Bubble Menu"),o=B(),t&&t.c(),l=B(),U(a.$$.fragment),this.h()},l(s){e=p(s,"H1",{class:!0});var c=v(e);i=S(c,"Editor with Bubble Menu"),c.forEach(d),o=x(s),t&&t.l(s),l=x(s),V(a.$$.fragment,s),this.h()},h(){b(e,"class","mb-2")},m(s,c){y(s,e,c),m(e,i),y(s,o,c),t&&t.m(s,c),y(s,l,c),q(a,s,c),n=!0},p(s,[c]){s[1]?t?(t.p(s,c),c&2&&_(t,1)):(t=D(s),t.c(),_(t,1),t.m(l.parentNode,l)):t&&(X(),w(t,1,1,()=>{t=null}),z());const f={};c&1&&(f.editor=s[0]),a.$set(f)},i(s){n||(_(t),_(a.$$.fragment,s),n=!0)},o(s){w(t),w(a.$$.fragment,s),n=!1},d(s){s&&d(e),s&&d(o),t&&t.d(s),s&&d(l),A(a,s)}}}function ut(r,e,i){let o,l,a=$,n=()=>(a(),a=L(t,f=>i(0,l=f)),t);r.$$.on_destroy.push(()=>a());let t;H(()=>{n(i(1,t=st({extensions:[tt],content:`
        <p>Hey, try to select some text here. There will popup a menu for selecting some inline styles.
           Remember: you have full control about content and styling of this menu..</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-md p-3 outline-none "}}})))});const s=()=>{l.chain().focus().toggleBold().run()},c=()=>{l.chain().focus().toggleItalic().run()};return r.$$.update=()=>{r.$$.dirty&1&&i(2,o=(f,u={})=>l.isActive(f,u))},[l,t,o,s,c]}class ft extends N{constructor(e){super();P(this,e,ut,at,C,{})}}export{ft as default};
