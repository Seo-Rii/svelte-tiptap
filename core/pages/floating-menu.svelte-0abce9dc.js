import{S as C,i as V,s as q,F as Z,e as m,c as p,a as v,d as b,b as g,f as j,g as y,G as h,H as z,I as L,J as R,q as E,o as T,v as A,a3 as W,a2 as X,C as H,N as P,O as $,w as G,x as J,y as Q,B as Y,t as M,k as S,h as O,m as F,p as ee,Y as te,U as w,Q as I,T as le,n as se,K as oe,Z as ie}from"../chunks/vendor-86f7ddee.js";import{E as ne,c as ae}from"../chunks/EditorContent-c25cb646.js";function re(r){let e,s,n,o;const a=r[7].default,i=Z(a,r,r[6],null);return{c(){e=m("div"),s=m("div"),i&&i.c(),this.h()},l(t){e=p(t,"DIV",{});var l=v(e);s=p(l,"DIV",{class:!0,style:!0});var u=v(s);i&&i.l(u),u.forEach(b),l.forEach(b),this.h()},h(){g(s,"class",n=r[1].class),j(s,"visibility","hidden")},m(t,l){y(t,e,l),h(e,s),i&&i.m(s,null),r[8](s),o=!0},p(t,[l]){i&&i.p&&(!o||l&64)&&z(i,a,t,t[6],o?R(a,t[6],l,null):L(t[6]),null),(!o||l&2&&n!==(n=t[1].class))&&g(s,"class",n)},i(t){o||(E(i,t),o=!0)},o(t){T(i,t),o=!1},d(t){t&&b(e),i&&i.d(t),r[8](null)}}}function ue(r,e,s){let{$$slots:n={},$$scope:o}=e,{editor:a}=e,{tippyOptions:i={}}=e,{pluginKey:t="SvelteTiptapFloatingMenu"}=e,{shouldShow:l=null}=e,u;if(!a)throw new Error("Missing editor instance.");A(()=>{const c=W({pluginKey:t,editor:a,element:u,tippyOptions:i,shouldShow:l});a.registerPlugin(c)}),X(()=>{a.unregisterPlugin(t)});function d(c){$[c?"unshift":"push"](()=>{u=c,s(0,u)})}return r.$$set=c=>{s(1,e=H(H({},e),P(c))),"editor"in c&&s(2,a=c.editor),"tippyOptions"in c&&s(3,i=c.tippyOptions),"pluginKey"in c&&s(4,t=c.pluginKey),"shouldShow"in c&&s(5,l=c.shouldShow),"$$scope"in c&&s(6,o=c.$$scope)},e=P(e),[u,e,a,i,t,l,o,n,d]}class ce extends C{constructor(e){super();V(this,e,ue,re,q,{editor:2,tippyOptions:3,pluginKey:4,shouldShow:5})}}function U(r){let e,s;return e=new ce({props:{editor:r[0],$$slots:{default:[de]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,o){Q(e,n,o),s=!0},p(n,o){const a={};o&1&&(a.editor=n[0]),o&68&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){s||(E(e.$$.fragment,n),s=!0)},o(n){T(e.$$.fragment,n),s=!1},d(n){Y(e,n)}}}function de(r){let e,s,n,o,a,i,t,l,u,d,c,k,B,K;return{c(){e=m("div"),s=m("button"),n=M("h1"),a=S(),i=m("button"),t=M("bold"),u=S(),d=m("button"),c=M("italic"),this.h()},l(_){e=p(_,"DIV",{"data-test-id":!0});var f=v(e);s=p(f,"BUTTON",{class:!0});var x=v(s);n=O(x,"h1"),x.forEach(b),a=F(f),i=p(f,"BUTTON",{class:!0});var N=v(i);t=O(N,"bold"),N.forEach(b),u=F(f),d=p(f,"BUTTON",{class:!0});var D=v(d);c=O(D,"italic"),D.forEach(b),f.forEach(b),this.h()},h(){g(s,"class",o=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":r[2]("heading",{level:1})})),g(i,"class",l=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":r[2]("bold")})),g(d,"class",k=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":r[2]("italic")})),g(e,"data-test-id","floating-menu")},m(_,f){y(_,e,f),h(e,s),h(s,n),h(e,a),h(e,i),h(i,t),h(e,u),h(e,d),h(d,c),B||(K=[I(s,"click",r[3](1)),I(i,"click",r[4]),I(d,"click",r[5])],B=!0)},p(_,f){f&4&&o!==(o=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("heading",{level:1})}))&&g(s,"class",o),f&4&&l!==(l=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("bold")}))&&g(i,"class",l),f&4&&k!==(k=w("border border-black rounded px-2 hover:bg-black hover:text-white",{"bg-black text-white":_[2]("italic")}))&&g(d,"class",k)},d(_){_&&b(e),B=!1,le(K)}}}function fe(r){let e,s,n,o,a,i,t=r[1]&&U(r);return a=new ne({props:{editor:r[0]}}),{c(){e=m("h1"),s=M("Editor with Floating Menu"),n=S(),t&&t.c(),o=S(),G(a.$$.fragment),this.h()},l(l){e=p(l,"H1",{class:!0});var u=v(e);s=O(u,"Editor with Floating Menu"),u.forEach(b),n=F(l),t&&t.l(l),o=F(l),J(a.$$.fragment,l),this.h()},h(){g(e,"class","mb-2")},m(l,u){y(l,e,u),h(e,s),y(l,n,u),t&&t.m(l,u),y(l,o,u),Q(a,l,u),i=!0},p(l,[u]){l[1]?t?(t.p(l,u),u&2&&E(t,1)):(t=U(l),t.c(),E(t,1),t.m(o.parentNode,o)):t&&(se(),T(t,1,1,()=>{t=null}),ee());const d={};u&1&&(d.editor=l[0]),a.$set(d)},i(l){i||(E(t),E(a.$$.fragment,l),i=!0)},o(l){T(t),T(a.$$.fragment,l),i=!1},d(l){l&&b(e),l&&b(n),t&&t.d(l),l&&b(o),Y(a,l)}}}function be(r,e,s){let n,o,a=oe,i=()=>(a(),a=te(t,c=>s(0,o=c)),t);r.$$.on_destroy.push(()=>a());let t;A(()=>{i(s(1,t=ae({extensions:[ie],content:`
        <p>This is an example of a Medium-like editor. Enter a new line and some buttons will appear.</p>
      `,editorProps:{attributes:{class:"border-2 border-black rounded-md p-3 outline-none "}}})))});const l=c=>()=>{o.chain().focus().toggleHeading({level:c}).run()},u=()=>{o.chain().focus().toggleBold().run()},d=()=>{o.chain().focus().toggleItalic().run()};return r.$$.update=()=>{r.$$.dirty&1&&s(2,n=(c,k={})=>o.isActive(c,k))},[o,t,n,l,u,d]}class _e extends C{constructor(e){super();V(this,e,be,fe,q,{})}}export{_e as default};
